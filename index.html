<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-126287352-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-126287352-1');
    </script>
    <title>My CO2 footprint</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Estimate your CO2 footprint based on your Google location history">
    <link rel="stylesheet" href="index.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css"/>
</head>
<body>
<div class="visualizer">
    <!-- Fork me on GitHub -->
    <a id="forkme" href="https://github.com/domsom/myco2footprint" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>

    <!-- Shown initially -->
    <div class="container">
        <div class="content">
            <!-- Intro, before data has been uploaded -->
            <div id="intro" class="content-box">
                <h2>My CO2 Footprint</h2>
                <p>Welcome to <b>My CO2 Footprint</b>, a tool for estimating your CO2 footprint based on your <a href="https://google.com/locationhistory" target="_blank">Google Location History</a>. <i>Don't worry&mdash;all processing and visualization happens directly on your computer, so rest assured that nobody is able to access your Location History but you... and Google, of course.</i></p>
                <p>To start off, you'll need to go to <a href="https://google.com/takeout" target="_blank">Google Takeout</a> to download your Location History data: on that page, deselect everything except Location History by clicking "Select none" and then reselecting "Location History". Then hit "Next" and, finally, click "Create archive". Once the archive has been created, click "Download". Unzip the downloaded file, and open the "Location History" folder within. <b>Then, drag and drop <i>LocationHistory.json</i> from inside that folder onto this page.</b></p>
                <p class="fallback">Alternatively, select your <b>LocationHistory.json</b> file directly: <input name="file" type="file" id="file"></input></p>
                <p class="credit">An <a target="_blank" href="https://github.com/domsom/myco2footprint">open source</a> project by Dominik Sommer inspired by <a href="http://www.twitter.com/BeLufthansa">@BeLufthansa</a>'s #MakersOfTomorrow.</p>
            </div>

            <!-- Shown in interim while processing is in progress -->
            <div id="working" class="content-box hidden">
                <h2>Processing data...</h2>
                <div class="loading">
                    <div class="bounce1"></div>
                    <div class="bounce2"></div>
                    <div class="bounce3"></div>
                </div>
                <p><span id="currentStatus">Waking up...</span></p>
                <p>This may take a while... sit back, get a cup of tea or something.</p>
                <p><i>Why does it take so long?</i> Depending on how long Google's been tracking your location, you may have hundreds of thousands of [latitude, longitude] pairs, every one of which must be loaded &amp; analyzed.</p>
            </div>

            <!-- Content displayed once processing complete -->
            <div id="done" class="content-box hidden">
                <h2>Your CO2 Footprint for car & rail</h2>
                <div id="resultchart" style="width:600px; height:400px;"></div>
                <p>Note: CO2 emissions per km are based on <a href="https://www.vcd.org/themen/klimafreundliche-mobilitaet/verkehrsmittel-im-vergleich/">national 2016 averages for Germany</a>, and averaged for rail. As Google doesn't differentiate between car & bus, the calculation assumes solely car emissions at the moment.</p>
                <!--
                <div class="email-form">
                    <input id="email" type="email" placeholder="Email address" />
                    <button id="launch">Launch heatmap</button>
                </div>
                <div class="disclaimer">By submitting your email address you agree to receive interesting communications from the Location History Visualizer team from time to time. If you're not interested, you can unsubscribe immediately.</div>
                -->
                <p class="credit">An <a target="_blank" href="https://github.com/domsom/myco2footprint">open source</a> project by Dominik Sommer inspired by <a href="http://www.twitter.com/BeLufthansa">@BeLufthansa</a>'s #MakersOfTomorrow.</p>
            </div>
        </div>
    </div>

    <!-- The map, populated by leaflet.js -->
    <div id="map"></div>
</div>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/3.8.4/dropzone.min.js"></script>
<script src="lib/leaflet.heat.min.js"></script>
<script src="lib/prettysize.js"></script>
<script src="lib/oboe-browser.min.js"></script>
<script src="lib/echarts.js"></script>
<script src="index.js"></script>

</body>
</html>
